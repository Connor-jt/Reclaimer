<plugin>
  <comment title="lens flare" />
  <degree name="falloff angle" offset="0x0" visible="true" description="degrees" />
  <degree name="cutoff angle" offset="0x4" visible="true" description="degrees" />
  <undefined name="Unknown" offset="0x8" visible="false" />
  <undefined name="Unknown" offset="0xC" visible="false" />
  <comment title="occlusion">Occlusion factor affects overall lens flare brightness and can also affect scale. Occlusion never affects rotation.</comment>
  <float32 name="occlusion radius" offset="0x10" visible="true" description="radius of the square used to test occlusion" />
  <enum16 name="occlusion offset direction" offset="0x14" visible="true">
    <option name="toward viewer" value="0x0" />
    <option name="marker forward" value="0x1" />
    <option name="none" value="0x2" />
  </enum16>
  <int16 name="Unknown" offset="0x16" visible="false" />
  <float32 name="near fade distance" offset="0x18" visible="true" description="distance at which the lens flare brightness is maximum" />
  <float32 name="far fade distance" offset="0x1C" visible="true" description="distance at which the lens flare brightness is minimum; set to zero to disable distance fading" />
  <comment title="bitmaps" />
  <tagRef name="bitmap" offset="0x20" visible="true" description="used by reflections" />
  <bitfield16 name="flags" offset="0x28" visible="true">
    <bit name="sun" index="0" />
  </bitfield16>
  <int16 name="Unknown" offset="0x2A" visible="false" />
  <undefined name="Unknown" offset="0x2C" visible="false" />
  <undefined name="Unknown" offset="0x30" visible="false" />
  <undefined name="Unknown" offset="0x34" visible="false" />
  <undefined name="Unknown" offset="0x38" visible="false" />
  <undefined name="Unknown" offset="0x3C" visible="false" />
  <undefined name="Unknown" offset="0x40" visible="false" />
  <undefined name="Unknown" offset="0x44" visible="false" />
  <undefined name="Unknown" offset="0x48" visible="false" />
  <undefined name="Unknown" offset="0x4C" visible="false" />
  <undefined name="Unknown" offset="0x50" visible="false" />
  <undefined name="Unknown" offset="0x54" visible="false" />
  <undefined name="Unknown" offset="0x58" visible="false" />
  <undefined name="Unknown" offset="0x5C" visible="false" />
  <undefined name="Unknown" offset="0x60" visible="false" />
  <undefined name="Unknown" offset="0x64" visible="false" />
  <undefined name="Unknown" offset="0x68" visible="false" />
  <undefined name="Unknown" offset="0x6C" visible="false" />
  <undefined name="Unknown" offset="0x70" visible="false" />
  <undefined name="Unknown" offset="0x74" visible="false" />
  <comment title="corona rotation">Controls how corona rotation is affected by viewer and light angles.</comment>
  <enum16 name="rotation function" offset="0x78" visible="true">
    <option name="none" value="0x0" />
    <option name="rotation A" value="0x1" />
    <option name="rotation B" value="0x2" />
    <option name="rotation-translation" value="0x3" />
    <option name="translation" value="0x4" />
  </enum16>
  <int16 name="Unknown" offset="0x7A" visible="false" />
  <degree name="rotation function scale" offset="0x7C" visible="true" description="degrees" />
  <undefined name="Unknown" offset="0x80" visible="false" />
  <undefined name="Unknown" offset="0x84" visible="false" />
  <undefined name="Unknown" offset="0x88" visible="false" />
  <undefined name="Unknown" offset="0x8C" visible="false" />
  <undefined name="Unknown" offset="0x90" visible="false" />
  <undefined name="Unknown" offset="0x94" visible="false" />
  <comment title="corona radius scale" />
  <float32 name="horizontal scale" offset="0x98" visible="true" description="amount to stretch the corona along the horizontal axis; 0 defaults to 1" />
  <float32 name="vertical scale" offset="0x9C" visible="true" description="amount to stretch the corona along the vertical axis; 0 defaults to 1" />
  <undefined name="Unknown" offset="0xA0" visible="false" />
  <undefined name="Unknown" offset="0xA4" visible="false" />
  <undefined name="Unknown" offset="0xA8" visible="false" />
  <undefined name="Unknown" offset="0xAC" visible="false" />
  <undefined name="Unknown" offset="0xB0" visible="false" />
  <undefined name="Unknown" offset="0xB4" visible="false" />
  <undefined name="Unknown" offset="0xB8" visible="false" />
  <reflexive name="reflections" offset="0xBC" visible="true" entrySize="0x80">
    <bitfield16 name="flags" offset="0x0" visible="true">
      <bit name="align rotation with screen center" index="0" />
      <bit name="radius NOT scaled by distance" index="1" />
      <bit name="radius scaled by occlusion factor" index="2" />
      <bit name="occluded by solid objects" index="3" />
    </bitfield16>
    <int16 name="Unknown" offset="0x2" visible="false" />
    <int16 name="bitmap index" offset="0x4" visible="true" />
    <int16 name="Unknown" offset="0x6" visible="false" />
    <undefined name="Unknown" offset="0x8" visible="false" />
    <undefined name="Unknown" offset="0xC" visible="false" />
    <undefined name="Unknown" offset="0x10" visible="false" />
    <undefined name="Unknown" offset="0x14" visible="false" />
    <undefined name="Unknown" offset="0x18" visible="false" />
    <float32 name="position" offset="0x1C" visible="true" description="0 is on top of light, 1 is opposite light, 0.5 is the center of the screen, etc." />
    <float32 name="rotation offset" offset="0x20" visible="true" description="degrees" />
    <undefined name="Unknown" offset="0x24" visible="false" />
    <float32 name="radius" offset="0x28" visible="true" description="interpolated by light scale min" />
    <float32 name="radius" offset="0x2C" visible="true" description="interpolated by light scale max" />
    <enum16 name="radius scaled by" offset="0x30" visible="true">
      <option name="none" value="0x0" />
      <option name="rotation" value="0x1" />
      <option name="rotation and strafing" value="0x2" />
      <option name="distance from center" value="0x3" />
    </enum16>
    <int16 name="Unknown" offset="0x32" visible="false" />
    <float32 name="brightness" offset="0x34" visible="true" description="interpolated by light scale min" />
    <float32 name="brightness" offset="0x38" visible="true" description="interpolated by light scale max" />
    <enum16 name="brightness scaled by" offset="0x3C" visible="true">
      <option name="none" value="0x0" />
      <option name="rotation" value="0x1" />
      <option name="rotation and strafing" value="0x2" />
      <option name="distance from center" value="0x3" />
    </enum16>
    <int16 name="Unknown" offset="0x3E" visible="false" />
    <comment title="tint color">Tinting and modulating are not the same; 'tinting' a reflection will color the darker regions but leave the white highlights, while 'modulating' will color everything uniformly (as in most games). The tint alpha controls how much the reflection is tinted as opposed to modulated (0 is modulated, 1 is tinted). If all components are zero, the reflection is fully tinted by the light color.</comment>
    <colorf name="tint color" offset="0x40" format="argb" visible="true" description="if a=r=g=b=0 use light color instead; alpha blends between modulation and tinting" />
    <comment title="animation">Causes lens flare reflection to flicker, pulse, or whatever. Animated color modulates tint color, above, while animated alpha modulates brightness. Animation is ignored if tint color is BLACK or the animation function is ONE or ZERO.</comment>
    <colorf name="color lower bound" offset="0x50" format="argb" visible="true" description="if a=r=g=b=0, default to a=r=g=b=1" />
    <colorf name="color upper bound" offset="0x60" format="argb" visible="true" description="if a=r=g=b=0, default to a=r=g=b=1" />
    <bitfield16 name="flags" offset="0x70" visible="true">
      <bit name="interpolate color in hsv" index="0" />
      <bit name="...more colors" index="1" />
    </bitfield16>
    <enum16 name="animation function" offset="0x72" visible="true">
      <option name="one" value="0x0" />
      <option name="zero" value="0x1" />
      <option name="cosine" value="0x2" />
      <option name="cosine (variable period)" value="0x3" />
      <option name="diagonal wave" value="0x4" />
      <option name="diagonal wave (variable period)" value="0x5" />
      <option name="slide" value="0x6" />
      <option name="slide (variable period)" value="0x7" />
      <option name="noise" value="0x8" />
      <option name="jitter" value="0x9" />
      <option name="wander" value="0xA" />
      <option name="spark" value="0xB" />
    </enum16>
    <float32 name="animation period" offset="0x74" visible="true" description="0 defaults to 1" />
    <float32 name="animation phase" offset="0x78" visible="true" description="seconds" />
    <undefined name="Unknown" offset="0x7C" visible="false" />
  </reflexive>
  <undefined name="Unknown" offset="0xC4" visible="false" />
  <undefined name="Unknown" offset="0xC8" visible="false" />
  <undefined name="Unknown" offset="0xCC" visible="false" />
  <undefined name="Unknown" offset="0xD0" visible="false" />
  <undefined name="Unknown" offset="0xD4" visible="false" />
  <undefined name="Unknown" offset="0xD8" visible="false" />
  <undefined name="Unknown" offset="0xDC" visible="false" />
  <undefined name="Unknown" offset="0xE0" visible="false" />
</plugin>